---
plan: 01-02
phase: 01-proxy-session-audit
title: Audit Dolphin Profile Configuration
wave: 1
depends_on: []
files_modified:
  - dolphin/audit_profiles.py (new)
autonomous: true
---

# Plan 01-02: Audit Dolphin Profile Configuration

## Objective

Create an audit script that checks all Dolphin profiles for proper proxy and session configuration.

## Context

Research shows common misconfigurations that cause bans:
1. Timezone doesn't match proxy geo-location
2. Using rotating IPs instead of sticky for Reddit
3. Multiple accounts sharing same proxy session
4. Inconsistent fingerprint settings

## Tasks

<task id="1">
Create `dolphin/audit_profiles.py` script that:
- Fetches all profiles from Dolphin Anty API
- For each profile, checks:
  - Is proxy configured?
  - Is it a sticky session (port 10000+) or rotating (port 823)?
  - Extract geo from proxy params (state, city)
  - Check if multiple profiles share same proxy
</task>

<task id="2">
Generate audit report with issues found:
- Profiles with no proxy
- Profiles using rotating instead of sticky
- Profiles sharing same proxy session
- Profiles with incomplete geo-targeting
</task>

<task id="3">
Output audit results to:
- Console with summary
- JSON file for further processing
- Optionally sync issues to Google Sheet "Audit" tab
</task>

## Verification

```bash
# Run audit
cd dolphin && python3 audit_profiles.py

# Expected output format:
# === Dolphin Profile Audit ===
# Total profiles: 153
#
# ISSUES FOUND:
# - 12 profiles using rotating proxy (should be sticky)
# - 3 profiles sharing proxy session 10016
# - 5 profiles with no geo-targeting
#
# Details saved to: audit_results.json
```

## must_haves

- [ ] Audit script runs without errors
- [ ] Identifies profiles using rotating vs sticky sessions
- [ ] Identifies proxy session sharing between profiles
- [ ] Generates actionable report
